function calcTime(e){const t=document.querySelector(".am-pm");let n;n=e.includes(":30")?e.replace(":30",".5"):e.includes(":45")?e.replace(":45",".75"):e.replace(":","."),buildWatch(!0,n).then(e=>{t.textContent=e.split(":")[0]>12?"PM":"AM"})}function afterTimeZoneSelection(e){const t=document.querySelector(".filter-div"),n=document.querySelector(".current-zone"),r=document.querySelector(".dst-info"),o=document.querySelector('input[name="country"]');emptyParent(t),o.value="",n.textContent=`Current zone: ${e.country}`;const c=document.querySelector("#day-saving-checkbox");r.innerHTML=formatDSTinfo(e),c.checked=!1,c.disabled="-"===e.DST}function formatDSTinfo(e){if("-"!==e.DST){let t,n;return"Chatham Islands (New Zealand)"!==e.country&&"Iran"!==e.country?(t=e.DSTperiodStartEnd.split(":00 ")[0]+":00",n=e.DSTperiodStartEnd.split(":00 ")[1]):"Chatham Islands (New Zealand)"===e.country?(t=e.DSTperiodStartEnd.split(":45 ")[0]+":45",n=e.DSTperiodStartEnd.split(":45 ")[1]):e.country,`<div class="start"><span>Starts on:</span><span>${t}</span></div>\n          <div class="end"><span>Ends on:</span><span>${n}</span></div>`}return""}function emptyParent(e){for(;0!==e.children.length;)e.childNodes[0].remove()}import{buildWatch}from"./logic.min.js";import*as data from"../data.min.js";buildWatch().then(e=>{const t=document.querySelector(".am-pm");document.querySelector(".watch").classList.remove("d-none"),t.classList.remove("d-none"),t.textContent=e.split(":")[0]>12?"PM":"AM"}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("../sw_cached_site.js").catch(e=>console.log(`Service Worker: Error: ${e}`))});const input=document.querySelector('input[name="country"]');input.addEventListener("change",e=>{const t=document.querySelector("#day-saving-checkbox");t.addEventListener("change",e=>{const t=document.querySelector(".current-zone").textContent.split("zone: ")[1],n=data.data.filter(e=>e.country===t)[0];e.target.checked?calcTime(n.DST):calcTime(n.UTCoffset)});let n=[];data.data.forEach(t=>{t.country.toLowerCase().includes(e.target.value.toLowerCase())&&n.push(t)});const r=document.querySelector(".filter-div");n.length>1?(r.innerHTML="",n.forEach(e=>{r.innerHTML+=`<span class="filtered"><a>${e.country}</a></span>`}),r.querySelectorAll("a").forEach((e,t)=>{e.addEventListener("click",()=>{calcTime(n[t].UTCoffset),afterTimeZoneSelection(n[t])})})):1===n.length?(calcTime(n[0].UTCoffset),afterTimeZoneSelection(n[0])):r.textContent="Sorry, No match found."});